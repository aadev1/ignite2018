{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {},
  "variables": {
    //"scriptFileUri": "[uri(deployment().properties.templateLink.uri , 'NCacheConfiguration.ps1')]",
    "scriptFileUri": "https://prdsapplianceprodcy01.blob.core.windows.net/applicationdefinitions/292B3_FIXED_CB08C98D4EEFD7208666BED5ABE4E3F2EC1A7315/NCacheConfiguration.ps1",
    //"scriptFileUri": "https://prdsapplianceprodcy01.blob.core.windows.net/appliancepackages/292B3_FIXED_CB08C98D4EEFD7208666BED5ABE4E3F2EC1A7315/NCacheConfiguration.ps1",
    "scriptFileUriFolder": "[if(contains(variables('scriptFileUri'), 'applicationdefinitions'), 'applicationdefinitions/', 'appliancepackages/')]",
    "scriptFileLocalPath": "[replace(variables('scriptFileUri'), concat(uri(variables('scriptFileUri'), '/'), variables('scriptFileUriFolder')), '')]"
  },
  "resources": [],
  "outputs": {
    "vmssPipIp": {
      "type": "string",
      "value": "[guid(deployment().name)]"
    },
    "deploymentName": {
      "type": "string",
      "value": "[deployment().name]"
    },
    "uri":{
      "type": "string",
      "value": "[variables('scriptFileUri')]"
    } ,
    "appDef": {
      "type": "string",
      "value": "[variables('scriptFileLocalPath')]"
    }
  }
}